{"mode":"editor","version":1,"windowDimensions":{"x":10,"y":35,"width":1920,"height":1011,"maximized":false},"grammars":{"deserializer":"GrammarRegistry","grammarOverridesByPath":{}},"project":{"paths":["/home/david/programming/cuda/red_eye","/home/david/programming/cuda/hdr","/home/david/meteor/leaderboard"],"buffers":[{"text":"<head>\n    <title>Leaderboard</title>\n</head>\n<body>\n    <h1>Leaderboard</h1>\n    {{> leaderboard}}\n</body>\n\n<template name=\"leaderboard\">\n    <h4>Current Number of Players: {{numPlayers}}</h4>\n    <ul>\n        {{#each player}}\n            <li class=\"player {{selectedClass}}\">{{name}}: {{score}}</li>\n        {{/each}}\n    </ul>\n    {{#if showSelectedPlayer}}\n        <h4>Selected Player: {{showSelectedPlayer.name}}</h4>\n        <input type=\"button\" class=\"increment\" value=\"Give 5 Points\">\n        <input type=\"button\" class=\"decrement\" value=\"Take 5 Points\">\n        <input type=\"button\" class=\"remove\" value=\"Remove Player\">\n        <br>\n        <br>\n    {{/if}}\n    {{> addPlayerForm}}\n</template>\n\n<template name=\"addPlayerForm\">\n    <form>\n        <input type=\"text\" name=\"playerName\">\n        <input type=\"submit\" value=\"Add Player\">\n    </form>\n</template>\n","markerStore":{"nextMarkerId":7,"markersById":{"0":{"range":{"start":{"row":31,"column":0},"end":{"row":31,"column":0}},"properties":{"type":"selection","editorId":10,"goalScreenRange":null,"preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true},"3":{"range":{"start":{"row":31,"column":2},"end":{"row":31,"column":10}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":false},"4":{"range":{"start":{"row":26,"column":1},"end":{"row":26,"column":9}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":false},"5":{"range":{"start":{"row":31,"column":2},"end":{"row":31,"column":10}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":false},"6":{"range":{"start":{"row":26,"column":1},"end":{"row":26,"column":9}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":false}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/home/david/meteor/leaderboard/leaderboard.html","digestWhenLastPersisted":"c6be662f0e83160332877cd8c0bae108805537e0","preferredLineEnding":null,"deserializer":"TextBuffer","version":2},{"text":"PlayersList = new Mongo.Collection('players');\n\nif(Meteor.isClient){\n    Template.leaderboard.helpers({\n        'player': function(){\n            return PlayersList.find({}, {sort: {score: -1, name: 1} });\n        },\n        'selectedClass': function(){\n            var playerId = this._id;\n            var selectedPlayer = Session.get('selectedPlayer');\n            if(playerId === selectedPlayer){\n                return \"selected\";\n            }\n        },\n        'numPlayers': function(){\n            return PlayersList.find().count();\n        },\n        'showSelectedPlayer': function(){\n            var selectedPlayer = Session.get('selectedPlayer');\n            return PlayersList.findOne(selectedPlayer);\n        }\n    })\n\n    Template.leaderboard.events({\n        'click .player': function(){\n            var playerId = this._id;\n            Session.set('selectedPlayer', playerId);\n        },\n        'click .increment': function(){\n            var selectedPlayer = Session.get('selectedPlayer');\n            PlayersList.update(selectedPlayer, {$inc: {score: 5} });\n        },\n        'click .decrement': function(){\n            var selectedPlayer = Session.get('selectedPlayer');\n            PlayersList.update(selectedPlayer, {$inc: {score: -5} });\n        },\n        'click .remove': function(){\n            var selectedPlayer = Session.get('selectedPlayer');\n           PlayersList.remove({_id: selectedPlayer});\n\n        }\n    });\n\n    Template.addPlayerForm.events({\n        'submit form': function(event){\n            event.preventDefault();\n            var playerNameVar = event.target.playerName.value;\n            PlayersList.insert({\n                name: playerNameVar,\n                score: 0\n            });\n            event.target.playerName.value = \"\";\n        }\n    })\n}\n\nif(Meteor.isServer){\n}\n","markerStore":{"nextMarkerId":5,"markersById":{"0":{"range":{"start":{"row":12,"column":8},"end":{"row":12,"column":8}},"properties":{"type":"selection","editorId":14,"goalScreenRange":null,"preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true},"3":{"range":{"start":{"row":12,"column":12},"end":{"row":12,"column":13}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":false},"4":{"range":{"start":{"row":10,"column":43},"end":{"row":10,"column":44}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":false}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/home/david/meteor/leaderboard/leaderboard.js","digestWhenLastPersisted":"23e8f171c16337feed884393f225485044450927","preferredLineEnding":null,"deserializer":"TextBuffer","version":2},{"text":".selected{\n    background-color: yellow;\n}\n","markerStore":{"nextMarkerId":1,"markersById":{"0":{"range":{"start":{"row":3,"column":0},"end":{"row":3,"column":0}},"properties":{"type":"selection","editorId":18,"goalScreenRange":null,"preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/home/david/meteor/leaderboard/leaderboard.css","digestWhenLastPersisted":"cec37a020e860457e88b816c2381ad71ae1d6ef0","preferredLineEnding":null,"deserializer":"TextBuffer","version":2}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"id":3,"items":[{"id":10,"softTabs":true,"displayBuffer":{"id":11,"softWrapped":false,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/home/david/meteor/leaderboard/leaderboard.html","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":18,"softTabs":true,"displayBuffer":{"id":19,"softWrapped":false,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/home/david/meteor/leaderboard/leaderboard.css","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":14,"softTabs":true,"displayBuffer":{"id":15,"softWrapped":false,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/home/david/meteor/leaderboard/leaderboard.js","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"}],"activeItemURI":"/home/david/meteor/leaderboard/leaderboard.html","focused":true,"flexScale":1,"deserializer":"Pane"},"activePaneId":3,"deserializer":"PaneContainer","version":1},"fullScreen":false,"packagesWithActiveGrammars":["meteor-api","language-css","language-hyperlink","language-todo"],"deserializer":"Workspace"},"packageStates":{"fuzzy-finder":{"/home/david/meteor/leaderboard/leaderboard.html":1446587528636,"/home/david/meteor/leaderboard/leaderboard.css":1446587528497,"/home/david/meteor/leaderboard/leaderboard.js":1446587528201},"metrics":{"sessionLength":11237},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/home/david/programming/cuda/red_eye":{"isExpanded":false,"entries":{}},"/home/david/programming/cuda/hdr":{"isExpanded":false,"entries":{}},"/home/david/meteor/leaderboard":{"isExpanded":true,"entries":{".meteor":{"isExpanded":false,"entries":{}}}}},"selectedPath":"/home/david/meteor/leaderboard/leaderboard.html","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":176},"keybinding-resolver":{},"find-and-replace":{"findOptions":{"findPattern":"","replacePattern":"","pathsPattern":"","useRegex":false,"wholeWord":false,"caseSensitive":false,"inCurrentSelection":false},"findHistory":["ctrl","ct"],"replaceHistory":[],"pathsHistory":[]}}}